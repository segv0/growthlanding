# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Commands

- `npm run dev` - Start dev server at localhost:3000
- `npm run build` - Production build (also runs TypeScript checking)
- `npm run lint` - ESLint
- No test framework is configured

## Architecture

Single-page marketing landing page for **Audience Labs** (part of **Mindora Systems & Growth**) â€” a growth agency for Kick & Twitch streamers that distributes streamer clips across TikTok and Instagram Reels through a distributed clipper network. Built with Next.js 16 App Router, Tailwind CSS v4, Framer Motion, OGL (WebGL), and TypeScript. Supports **English and Turkish** via a `[locale]` dynamic segment pattern with JSON dictionary files.

### i18n System

Uses the Next.js App Router `[locale]` dynamic segment pattern with no external i18n libraries. URL structure: `/en/...` and `/tr/...`.

- **`src/lib/i18n/config.ts`** â€” Exports `i18n` config (`defaultLocale: "en"`, `locales: ["en", "tr"]`) and `Locale` type.
- **`src/lib/i18n/dictionaries.ts`** â€” Server-only dictionary loader. Lazily imports JSON dictionaries via `import()`.
- **`src/lib/i18n/dictionaries/en.json`** / **`tr.json`** â€” All translatable strings organized by section: `metadata`, `nav`, `hero`, `trustBar`, `impact`, `services`, `simplify`, `whyChoose`, `testimonials`, `aboutMe`, `faq`, `cta`, `privacy`, `terms`, `cookies`, `footer`. Both files must have identical structure. The `privacy`, `terms`, and `cookies` sections each contain `title`, `lastUpdated`, and `sections` (array of `{ heading, content }`) for legal pages.
- **`middleware.ts`** (project root) â€” Redirects `/` to `/en` or `/tr` based on `Accept-Language` header. Skips `_next`, `api`, `favicon.ico`, and static assets. i18n config values (`defaultLocale`, `locales`) are inlined directly in the middleware (not imported from `@/lib/i18n/config`) to avoid Vercel Edge Runtime unsupported module errors.
- **`src/types/index.ts`** â€” Exports `Dictionary` type (derived from `en.json` shape) plus per-section subtypes (`NavDict`, `HeroDict`, `ImpactDict`, `AboutMeDict`, `LegalPageDict`, `PrivacyDict`, `TermsDict`, `CookiesDict`, etc.) used as component props.

**Adding a new translatable string:** Add the key/value to both `en.json` and `tr.json` in the same location. The `Dictionary` type auto-updates since it's derived from the JSON import shape.

**Adding a new locale:** Add the locale code to `i18n.locales` in `config.ts`, create a new `dictionaries/{code}.json` file with the same structure, and add a loader entry in `dictionaries.ts`.

### Page Structure

`src/app/[locale]/page.tsx` assembles 9 section components in order: Hero â†’ ServicesSection (`#services`) â†’ SimplifySection ("How It Works") â†’ ImpactSection (`#about`) â†’ WhyChooseUsSection â†’ AboutSection (`#creator`) â†’ TestimonialsSection (`#testimonials`, currently commented out) â†’ FAQSection (`#faq`) â†’ CTASection. ServicesSection and SimplifySection are wrapped in a `PlasmaWrapper` that renders an animated OGL WebGL plasma shader behind both sections. Nav links are defined per-locale in the dictionary JSON files (Services â†’ How It Works â†’ About â†’ Testimonials â†’ FAQ).

`src/app/[locale]/layout.tsx` is the main layout: renders `<html lang={locale}>`, loads Inter + Space Mono fonts via `next/font/google`, wraps pages with `<Navbar dict={dict.nav} locale={locale}>` and `<Footer dict={dict.footer} locale={locale}>`. Has `generateMetadata` for per-locale title/description and `generateStaticParams` for both locales.

Legal pages (`src/app/[locale]/privacy/page.tsx`, `terms/page.tsx`, `cookies/page.tsx`) are server components that render prose-style legal content from dictionary `privacy`/`terms`/`cookies` sections. Each has `generateMetadata` and `generateStaticParams`. They inherit Navbar + Footer from the `[locale]` layout. Terms of Service governing law references England and Wales courts. Contact email across all legal pages is `info@mindorasystems.com`. Legal content follows a strict guideline: Audience Labs sells **distribution and visibility**, not results. Terms use a **campaign-based model** (not subscription), with best-effort service delivery, no performance guarantees (views, followers, virality, revenue), third-party distribution accounts (not owned by client), copyright responsibility on the client, and no refund after campaign start. Privacy policy collects minimal data (email, channel name, platform links only â€” no passwords or account access). Clipper community is defined as independent third parties using only publicly available broadcast content. No operational details (clip pricing, clipper fees) are ever disclosed in legal or marketing text.

`src/app/layout.tsx` is a bare shell that just returns `children` (required by Next.js but delegates everything to the `[locale]` layout).

### Tailwind v4 Theming

Uses Tailwind CSS v4 `@theme inline` in `globals.css` (not tailwind.config). Custom design tokens:
- `brand-50` through `brand-900` - Twitch purple color scale (`#9146FF` is brand-500)
- `surface` (`#18181B`) - used for inner card contrast (e.g. SimplifySection cards); no longer used for section backgrounds
- `border` (`#2F2F35`) - border color token
- Body background: `#0E0E10`, body text: `#EFEFF1`
- `font-sans` â†’ Inter, `font-heading` â†’ var(--font-display) (used for hero heading)

### Component Layers

- **`components/ui/`** - Atomic components (Button, Card, Container, SectionBadge, SectionHeading, CalComLogo). Used across all sections. Button supports `"filled"`, `"outline"`, and `"white"` variants. `SectionBadge` is a `"use client"` component (uses `useRef` + `useInView` from Framer Motion) with a multi-layer animated pill design: ambient purple glow (`bg-brand-500/15 blur-[20px]`), SVG orbiting dashed ring (SMIL `<animate>` on `stroke-dashoffset`, 3s loop), solid border (`border-brand-500/30`), inner `bg-[#1F1F23]` pill, blinking dot (`badge-dot-blink` keyframe, opacity 1â†’0.2 with glow, `useInView`-gated), and glowing monospace text (`font-mono text-xs tracking-widest uppercase`, `badge-text-glow` keyframe). Props: `{ children: React.ReactNode }` only, no `icon` prop. `SectionHeading` accepts `badge`, `heading`, `headingAccent?`, `subtitle?`, `centered?` and wraps `<SectionBadge>{badge}</SectionBadge>`. `CalComLogo` renders `/public/calcom-logo.avif` as an `<img>` with `rounded-md` corners; accepts `className` for sizing (default `h-4 w-auto`). Used inside the Navbar CTA (`h-5`), HeroSection primary CTA (`h-5`), and CTASection "Book a Free Call" button (`h-5`).
- **`components/animations/`** - Framer Motion wrappers: `FadeInWhenVisible` (scroll-triggered with configurable direction), `StaggerChildren` (exports `staggerItemVariants` for child motion.div), `MarqueeAnimation` (CSS-based infinite scroll), `CountUp` (scroll-triggered number count-up animation), `AsciiArt` (renders a character grid as individual `<span>` elements with per-character CSS glow animations, triggered by Framer Motion `useInView`).
- **`components/backgrounds/`** - `ReelCascade` (hero reel animation), `EngagementBubbles`, `PlasmaBackground` (OGL WebGL plasma shader, `"use client"`, props: `color`, `speed`, `scale`, `opacity`, `className`; uses simplex noise GLSL in WebGL 1; pauses rAF via `IntersectionObserver` when off-screen; skips init on mobile <768px and `prefers-reduced-motion`), `PlasmaWrapper` (client wrapper using `next/dynamic` with `ssr: false`, renders `PlasmaBackground` at `opacity: 0.15` with top/bottom gradient fade masks into `bg-[#0E0E10]`). `PlasmaWrapper` wraps ServicesSection + SimplifySection in `page.tsx`; those sections use `bg-transparent` to let the plasma show through.
- **`components/sections/`** - Each section is a self-contained `"use client"` component that receives a typed `dict` prop (e.g. `{ dict: HeroDict }`). Standalone sections use `bg-[#0E0E10]` dark background; ServicesSection and SimplifySection use `bg-transparent` (wrapped by `PlasmaWrapper`).
- **`components/layout/`** - Navbar (fixed positioning, compact `h-14` height, nav links in a rounded pill container, "Book a Free Call" CTA linking to Calendly, `LanguageSwitcher`, and mobile hamburger menu) and Footer. Footer accepts `dict` and `locale` props; `locale` is used to prefix internal (non-anchor) link hrefs with `/${locale}`. Footer brand column shows the site description followed by a `mailto:` contact email link (`dict.contactEmail`, currently `info@mindorasystems.com`) with a `Mail` lucide icon. Footer bottom bar shows copyright + "Mindora Systems & Growth" parent company name separated by a `Â·` dot (stacks vertically on mobile). `<main>` in the locale layout has `pt-14` to offset the fixed navbar height. Logo is a flask PNG image (`/public/logo.png`, also used as favicon) with `text-lg` logo text. The navbar bottom border is `border-transparent` at the top of the page and transitions to `border-[#2F2F35]` on scroll (controlled by a `scrolled` state via `useEffect` scroll listener, with a 300ms color transition). All navbar elements (nav links, CTA button, language switcher) use `text-[13px]` for consistent compact sizing. The navbar CTA uses a local `NavCTAButton` component (accepts `label` prop) with `CalComLogo` at `h-5` and `hover:bg-gray-100` transition (no glow/shimmer effects).
- **`components/layout/LanguageSwitcher.tsx`** - Client component using `usePathname`/`useRouter` from `next/navigation`. Shows a toggle button with the OTHER language's flag emoji + label (e.g. on `/en`, shows ðŸ‡¹ðŸ‡· TR). Swaps the locale segment in the current path on click. Styled as a dark pill matching the navbar theme.

### Data & Types

Non-translatable data lives in `src/lib/constants.ts`: `CALENDLY_URL` and `TRUST_BRANDS`. All translatable text (nav links, section headings, descriptions, FAQs, testimonials, about me, footer columns, CTA stats, service labels) lives in the JSON dictionary files under `src/lib/i18n/dictionaries/`. Service items include `label` (uppercase tag), `title`, `description`, and `icon` (lucide key string). ASCII art grid configurations for the WhyChooseUs cards live in `src/lib/asciiConfigs.ts` (exports `ASCII_CONFIGS` record keyed by the card's `icon` string). TypeScript interfaces are in `src/types/index.ts` (includes `AsciiChar`, `AsciiArtConfig`, `Dictionary`, and per-section dict subtypes). `CALENDLY_URL` is used in Navbar, HeroSection, and CTASection for "Book a Free Call" CTAs. HeroSection has both the primary Calendly CTA and a secondary "See How It Works" anchor link to `#how-it-works`.

### Key Patterns

- Section components use `"use client"` because they depend on Framer Motion or React state (FAQ accordion, mobile menu).
- **All section components receive a typed `dict` prop**. Text comes from the dictionary, not from hardcoded strings or constants imports.
- **Marketing copy avoids em dashes (`â€”`).** Use periods (new sentence), commas (continuation), or colons (lists/explanations) instead. Legal pages (privacy/terms/cookies) are exempt from this rule.
- Framer Motion `Variants` type must be explicitly annotated and ease values need `as const` to satisfy TypeScript.
- CSS keyframes in `globals.css`: `marquee`/`marquee-reverse` (testimonial scrolling), `pulse-glow` (triple-layer purple box-shadow pulse for play button), `pulse-glow-white` (white variant of pulse-glow), `dash-flow` (stroke-dashoffset animation for path lines), `pulse-ring` (scale/opacity pulse for center ring), `float` (vertical bob for platform icons), `badge-pulse` (border color pulse for view badges), `particle-float-1`/`particle-float-2` (ambient floating particles), `shimmer-sweep` and `glow-rotate` (utility effects), `ascii-glow` (gentle purple pulse for ASCII art characters), `ascii-flash` (brief bright flash for network pulse edges), `ascii-center-glow` (steady bright glow for center/node ASCII characters), `chart-dot-pulse` (scale + purple glow pulse for SimplifySection line chart data points), `sparkline-draw` (stroke-dashoffset 50â†’0 for sparkline polyline draw in SimplifySection stat cards), `badge-dot-pulse` (box-shadow glow pulse for badge dots), `badge-dot-blink` (opacity 1â†’0.2 blink with glow for SectionBadge dot), `badge-text-glow` (text-shadow pulse for SectionBadge text), `status-pulse` (green box-shadow pulse, currently unused), `reel-scroll-up`/`reel-scroll-down` (vertical scroll for reel cascade background), `reel-glitch` (brief glitch/jitter effect for reel items), `equalizer-pulse` (scaleY 0.3â†’1 oscillation for ServicesSection equalizer bars), `bar-grow` (scaleY 0â†’1 entry for ServicesSection bar chart). TestimonialsSection inlines its own marquee logic with per-row hover-to-pause and per-card highlight/dim behavior.
- TestimonialsSection renders two full-width `MarqueeRow` components (top row scrolls left, bottom row right) outside `<Container>`. Each row duplicates its 6 testimonials for seamless looping. Hover pauses the row via `animationPlayState`, highlights the hovered card (`z-10`, `scale-[1.02]`, `border-brand-500`, `shadow-brand-500/10`), and dims siblings (`opacity-50`). The outer wrapper uses `-my-4` / inner `py-4` to prevent `overflow-hidden` from clipping scale/shadow effects.
- `Testimonial` type includes `avatarColor` (hex string) applied via inline `style` on the avatar circle. 12 testimonials per locale in the dictionary (fictional streamer names/titles, 5 with Turkish names), sliced 0â€“6 / 6â€“12 for the two rows.
- CTASection uses a "contained card with glow" design: an outer wrapper with `bg-gradient-to-br` and `p-[1.5px]` padding reveals a gradient purple border glow around the inner `bg-[#1F1F23]` card. A blurred `bg-brand-500/15` radial div behind the card adds a subtle ambient glow. Includes a `SectionBadge`, stagger-animated stats row with responsive dividers, and a "Book a Free Call" button linking to Calendly.
- `CountUp` component parses stat strings (e.g. `"280%"`, `"2.4M"`, `"3x"`) into prefix/number/suffix, then animates from 0 to the target using Framer Motion's `useInView` (`once: true`), `useMotionValue`, and `useSpring`. Used in ImpactSection, CTASection, and SimplifySection.
- ImpactSection uses a CSS-built analytics dashboard card (white card with translated "Clip Performance" header, platform icons, 3 mini stat cards with CountUp, bar chart visualization, and overlapping growth badge). The dashboard card has a 3D perspective tilt (`perspective: 1200px` on wrapper, `rotateY(-25deg) rotateX(10deg)` on the card) while the "+47% growth" badge counter-rotates (`rotateY(25deg) rotateX(-10deg)`) to stay flat. A **stacked shadow card** sits behind the dashboard for 3D depth: an `absolute inset-0` div with `bg-white/80`, `rounded-2xl`, `shadow-xl`, and the same 3D rotation plus `translate3d(8px, 8px, -20px)` to offset it right/down/back in Z-space. Bar chart bars use flat `bg-brand-500` purple (no intensity gradient). The three big stats below the heading (10M+, 150+, 280%) are styled in `text-[#9BA8B8]` (steel blue). Stat emojis are plain (no drop-shadow glow). Five **floating emojis** (`FloatingEmoji` local component) orbit around the dashboard card with the `float` CSS keyframe animation: ðŸŽ¬ (clips), ðŸš€ (growth), ðŸŽ® (gaming), ðŸ“ˆ (analytics), ðŸ”¥ (trending). Each has a unique size (26â€“36px) and staggered animation (durations 2.8sâ€“3.5s, delays 0â€“1.2s). No `next/image` usage.
- SimplifySection ("How It Works") has a two-column layout: left text column (badge, heading, description, numbered feature list) and right dashboard mockup. The heading uses split keys (`heading` + `headingHighlight` + `headingSuffix`) so that "Growth" / "BÃ¼yÃ¼me" renders in Twitch purple (`text-brand-500`). The dashboard uses a 3-layer card wrapper matching ServicesSection/CTASection patterns: ambient glow (`bg-brand-500/8 blur-[60px]`), gradient border (`from-brand-500/30 via-brand-600/15 p-[1px]`), inner `bg-[#1F1F23]` card with continuous `shimmer-sweep` overlay. Contains 3 `StatCard` sub-components in a `grid-cols-3` layout â€” each accepts an `index` prop and uses progressively brighter purple gradient borders (`borderGradients` array with `p-[1px]` wrapper), inner `bg-[#111113]` card, a lucide icon in a `bg-white/5` container (mapped from `stat.icon` string via `ICON_MAP`), a `Sparkline` SVG (56x24px polyline + area fill, drawn via `sparkline-draw` CSS keyframe), `CountUp` value, and green `TrendingUp` change indicator (`text-emerald-400`). Below the stats, a `GrowthChart` sub-component renders an animated SVG line/area chart (`viewBox 0 0 400 160`): 12 data points converted to a smooth Catmull-Româ†’Bezier SVG path, line draws left-to-right via Framer Motion `useSpring` on `stroke-dashoffset` (stiffness: 30, damping: 20), area gradient fades in with 0.5s delay, 4 glowing `motion.circle` dots pop in at peaks after ~2.2s with `chart-dot-pulse` CSS animation, and a `growthBadge` `motion.div` slides up near the final peak at ~2.5s. Dictionary `simplify.dashboardStats` entries include `change` (trend text like "+23%"), `icon` (lucide key: "scissors"/"eye"/"users"), and `simplify.growthBadge` (e.g. "+47% this month"). Sparkline trend data is hardcoded per icon key in `SPARKLINE_DATA`.
- HeroSection uses a centered single-column layout with a ReelCascade background. The heading uses `font-heading` class with `headingStart` in muted steel (`text-[#9BA8B8]`) and `headingAccent` in `text-white`, separated by a `<br>`. Below the description, two CTAs in a flex row: primary "Book a Free Call" (white pill with CalComLogo, links to Calendly) and secondary "See How It Works" (outline, anchors to `#how-it-works`). No typewriter effect, no two-column grid, no NetworkGrid canvas. The `ClipFlowIllustration` component is defined and exported from `HeroSection.tsx` but currently not rendered anywhere (previously used in ServicesSection, now replaced by per-card visuals). `ClipFlowIllustration` (`max-w-[600px] h-[400px]`) is a layered, ambient-rich visual. Source icons (Twitch, Kick) on the left connect to a center play button via curved SVG Bezier `<path>` elements with gradient strokes (`dash-flow` animation) and 12 glowing flow dots (3 per path: lead/mid/trail, sizes r=5/3.5/2.5) using `<animateMotion>` with staggered delays. The center play button (96px) has an ambient blur backdrop, two counter-rotating dashed SVG rings with orbital particles (`<animateTransform>`), and a pulsing border ring (`pulse-ring` keyframe). Destination icons (TikTok, Instagram) have styled view count badges with `Eye` icon and `badge-pulse` animation. Platform cards are 72px with gradient backgrounds, brand-colored glow halos (blurred divs), and gentle `float` animation. Ambient effects include a large radial purple glow, SVG `<pattern>` dot grid (0.04 opacity), and 8 floating particles (`particle-float-1`/`particle-float-2` keyframes). All SVG animations use native SMIL (`<animateMotion>`, `<animateTransform>`, `<animate>`) rather than CSS keyframes for path-following and rotation.
- Custom inline SVGs are used for platforms not in lucide-react: Kick icon (green "K" in rounded square) and TikTok icon (standard musical note path with `currentColor` fill).
- WhyChooseUsSection uses animated ASCII/Unicode art instead of lucide-react icons. Each card has a unique design (bullseye, infinity loop, sparkle lattice, node graph) rendered via the `AsciiArt` component with per-character CSS animations. Grid configs in `asciiConfigs.ts` define characters, animation types (`glow`/`flash`/`center`/`none`), and staggered delays. Uses CSS keyframes (not Framer Motion) for the looping per-character animations for performance (~120 animated spans), with `useInView` gating animation start on scroll. Rendered at `font-mono` 11px with `1ch`-wide spans for alignment, plus a subtle `bg-brand-500/8 blur-lg` backdrop.
- ServicesSection uses an **asymmetric bento grid** with 5 service cards, each featuring a unique CSS/SVG-built illustration. Layout: desktop `grid-cols-12` (row 1: `col-span-6` Clip Distribution + `col-span-3` Campaign Management + `col-span-3` Trend Detection; row 2: `col-span-5` Growth Analytics + `col-span-7` Content Optimization), tablet `grid-cols-2`, mobile `grid-cols-1`. No `ClipFlowIllustration` import. All brand purple accent (no checkerboard). Each card has an illustration area (`bg-[#111113] rounded-xl`) above label/title/description text. 5 local visual sub-components: `ClipFlowVisual` (central clip card mockup with SVG `animateMotion` dots flowing to TikTok/Reels/Shorts platform pills via dashed gradient paths), `CalendarVisual` (7-col CSS grid calendar with purple scheduled dots, green published dots, today highlight ring, staggered cell fade-in, "3 scheduled" status pill), `EqualizerVisual` (9 vertical bars with `equalizer-pulse` CSS animation at varied durations 0.8sâ€“1.4s, 3 floating trend pills with `particle-float-1`), `BarChartVisual` (animated SVG growth line with gradient stroke, area fill, glowing dots at peaks, no arrowhead, no badge), `VideoEditorVisual` (16:9 video player frame with gradient preview, play button, animated purple timeline progress bar + playhead dot, caption overlay, "AI Optimized" badge with `shimmer-sweep`, floating sparkle elements with `ascii-glow`). Cards mapped by index to visuals via `VISUAL_MAP` record. Hover effects: gradient border glow (`p-[1px]`), ambient blur backdrop, shimmer sweep overlay, spring scale (`whileHover={{ scale: 1.02 }}`). Cards stagger in via Framer Motion `containerVariants`/`cardVariants` with `useInView`.
- Icons come from `lucide-react`. Platform-specific inline SVGs (Kick, TikTok) are defined as local components where needed.
- Dark theme throughout: cards use `bg-[#1F1F23]` with `border-[#2F2F35]`, text uses `text-gray-100`/`text-gray-400` for contrast on dark backgrounds, SVG logo fills use `#9146FF`.
- AboutSection (`#creator`) is a GitHub-inspired personal card for the founder. Uses the 3-layer card pattern (ambient glow, gradient border, inner `bg-[#1F1F23]` card). Displays GitHub avatar from `https://github.com/{githubUsername}.png`, name with surname in muted steel italic Instrument_Serif (`font-script`), green online dot + `@username` handle, bio paragraph, and a GitHub-green (`#238636`) button linking to the profile. Subtle dot-grid pattern inside the card (`opacity-[0.03]`). Avatar enters with Framer Motion scale animation. Dictionary key: `aboutMe` with fields `badge`, `firstName`, `surname`, `githubUsername`, `bio`, `githubButton`. `AboutMeDict` type in `src/types/index.ts`.
- Static images in `/public/`: `logo.png` (flask icon used as site logo in Navbar + Footer), `calcom-logo.avif` (Cal.com logo used in CTA buttons). Favicon at `src/app/favicon.ico` is derived from `logo.png`. All other visuals are CSS/SVG/WebGL-based.
