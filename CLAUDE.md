# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Commands

- `npm run dev` - Start dev server at localhost:3000
- `npm run build` - Production build (also runs TypeScript checking)
- `npm run lint` - ESLint
- No test framework is configured

## Architecture

Single-page marketing landing page for **Audience Labs** (part of **Mindora Systems & Growth**) ‚Äî a growth agency for Kick & Twitch streamers that distributes streamer clips across TikTok and Instagram Reels through a distributed clipper network. Built with Next.js 16 App Router, Tailwind CSS v4, Framer Motion, and TypeScript. Supports **English and Turkish** via a `[locale]` dynamic segment pattern with JSON dictionary files.

### i18n System

Uses the Next.js App Router `[locale]` dynamic segment pattern with no external i18n libraries. URL structure: `/en/...` and `/tr/...`.

- **`src/lib/i18n/config.ts`** ‚Äî Exports `i18n` config (`defaultLocale: "en"`, `locales: ["en", "tr"]`) and `Locale` type.
- **`src/lib/i18n/dictionaries.ts`** ‚Äî Server-only dictionary loader. Lazily imports JSON dictionaries via `import()`.
- **`src/lib/i18n/dictionaries/en.json`** / **`tr.json`** ‚Äî All ~120 translatable strings organized by section: `metadata`, `nav`, `hero`, `trustBar`, `impact`, `services`, `simplify`, `whyChoose`, `testimonials`, `aboutMe`, `faq`, `cta`, `footer`. Both files must have identical structure.
- **`middleware.ts`** (project root) ‚Äî Redirects `/` to `/en` or `/tr` based on `Accept-Language` header. Skips `_next`, `api`, `favicon.ico`, and static assets.
- **`src/types/index.ts`** ‚Äî Exports `Dictionary` type (derived from `en.json` shape) plus per-section subtypes (`NavDict`, `HeroDict`, `ImpactDict`, `AboutMeDict`, etc.) used as component props.

**Adding a new translatable string:** Add the key/value to both `en.json` and `tr.json` in the same location. The `Dictionary` type auto-updates since it's derived from the JSON import shape.

**Adding a new locale:** Add the locale code to `i18n.locales` in `config.ts`, create a new `dictionaries/{code}.json` file with the same structure, and add a loader entry in `dictionaries.ts`.

### Page Structure

`src/app/[locale]/page.tsx` assembles 9 section components in order: Hero ‚Üí ServicesSection (`#services`) ‚Üí SimplifySection ("How It Works") ‚Üí ImpactSection (`#about`) ‚Üí WhyChooseUsSection ‚Üí AboutSection (`#creator`) ‚Üí TestimonialsSection (`#testimonials`, currently commented out) ‚Üí FAQSection (`#faq`) ‚Üí CTASection. Nav links are defined per-locale in the dictionary JSON files (Services ‚Üí How It Works ‚Üí About ‚Üí Testimonials ‚Üí FAQ).

`src/app/[locale]/layout.tsx` is the main layout: renders `<html lang={locale}>`, loads Inter + Space Mono fonts via `next/font/google`, wraps pages with `<Navbar dict={dict.nav} locale={locale}>` and `<Footer dict={dict.footer}>`. Has `generateMetadata` for per-locale title/description and `generateStaticParams` for both locales.

`src/app/layout.tsx` is a bare shell that just returns `children` (required by Next.js but delegates everything to the `[locale]` layout).

### Tailwind v4 Theming

Uses Tailwind CSS v4 `@theme inline` in `globals.css` (not tailwind.config). Custom design tokens:
- `brand-50` through `brand-900` - Twitch purple color scale (`#9146FF` is brand-500)
- `surface` (`#18181B`) - used for inner card contrast (e.g. SimplifySection cards); no longer used for section backgrounds
- `border` (`#2F2F35`) - border color token
- Body background: `#0E0E10`, body text: `#EFEFF1`
- `font-sans` ‚Üí Inter, `font-heading` ‚Üí var(--font-display) (used for hero heading)

### Component Layers

- **`components/ui/`** - Atomic components (Button, Card, Container, SectionBadge, SectionHeading, CalComLogo). Used across all sections. Button supports `"filled"`, `"outline"`, and `"white"` variants. `SectionBadge` is a dark outlined pill (`bg-brand-500/10`, `border-brand-500/30`, `text-brand-400`) with an optional `icon` prop (`LucideIcon`). `SectionHeading` forwards an optional `icon` prop to `SectionBadge`. `CalComLogo` renders `/public/calcom-logo.avif` as an `<img>` with `rounded-md` corners; accepts `className` for sizing (default `h-4 w-auto`). Used inside the Navbar CTA (`h-6`) and CTASection "Book a Call" button (`h-5`).
- **`components/animations/`** - Framer Motion wrappers: `FadeInWhenVisible` (scroll-triggered with configurable direction), `StaggerChildren` (exports `staggerItemVariants` for child motion.div), `MarqueeAnimation` (CSS-based infinite scroll), `CountUp` (scroll-triggered number count-up animation), `AsciiArt` (renders a character grid as individual `<span>` elements with per-character CSS glow animations, triggered by Framer Motion `useInView`).
- **`components/sections/`** - Each section is a self-contained `"use client"` component that receives a typed `dict` prop (e.g. `{ dict: HeroDict }`). All sections use a uniform `bg-[#0E0E10]` dark background (no alternating pattern).
- **`components/layout/`** - Navbar (fixed positioning, nav links in a rounded pill container, "Book a Call" CTA linking to Calendly, `LanguageSwitcher`, and mobile hamburger menu) and Footer. Footer bottom bar shows copyright + "Mindora Systems & Growth" parent company name separated by a `¬∑` dot (stacks vertically on mobile). Both accept dict/locale props from the `[locale]` layout. `<main>` in the locale layout has `pt-16` to offset the fixed navbar height. Logo is a flask PNG image (`/public/logo.png`, also used as favicon). The navbar bottom border is `border-transparent` at the top of the page and transitions to `border-[#2F2F35]` on scroll (controlled by a `scrolled` state via `useEffect` scroll listener, with a 300ms color transition). The navbar CTA uses a local `NavCTAButton` component (accepts `label` prop) ‚Äî a simple white pill button with black text, `CalComLogo` image, and `hover:bg-gray-100` transition (no glow/shimmer effects).
- **`components/layout/LanguageSwitcher.tsx`** - Client component using `usePathname`/`useRouter` from `next/navigation`. Shows a toggle button with the OTHER language's flag emoji + label (e.g. on `/en`, shows üáπüá∑ TR). Swaps the locale segment in the current path on click. Styled as a dark pill matching the navbar theme.

### Data & Types

Non-translatable data lives in `src/lib/constants.ts`: `CALENDLY_URL` and `TRUST_BRANDS`. All translatable text (nav links, section headings, descriptions, FAQs, testimonials, about me, footer columns, CTA stats, service labels) lives in the JSON dictionary files under `src/lib/i18n/dictionaries/`. Service items include `label` (uppercase tag), `title`, `description`, and `icon` (lucide key string). ASCII art grid configurations for the WhyChooseUs cards live in `src/lib/asciiConfigs.ts` (exports `ASCII_CONFIGS` record keyed by the card's `icon` string). TypeScript interfaces are in `src/types/index.ts` (includes `AsciiChar`, `AsciiArtConfig`, `Dictionary`, and per-section dict subtypes). `CALENDLY_URL` is used in Navbar and CTASection for "Book a Call" CTAs (HeroSection only has a "See How It Works" anchor link to `#services`).

### Key Patterns

- Section components use `"use client"` because they depend on Framer Motion or React state (FAQ accordion, mobile menu).
- **All section components receive a typed `dict` prop** ‚Äî text comes from the dictionary, not from hardcoded strings or constants imports.
- Framer Motion `Variants` type must be explicitly annotated and ease values need `as const` to satisfy TypeScript.
- CSS keyframes in `globals.css`: `marquee`/`marquee-reverse` (testimonial scrolling), `pulse-glow` (triple-layer purple box-shadow pulse for play button), `pulse-glow-white` (white variant of pulse-glow), `dash-flow` (stroke-dashoffset animation for path lines), `pulse-ring` (scale/opacity pulse for center ring), `float` (vertical bob for platform icons), `badge-pulse` (border color pulse for view badges), `particle-float-1`/`particle-float-2` (ambient floating particles), `shimmer-sweep` and `glow-rotate` (utility effects), `ascii-glow` (gentle purple pulse for ASCII art characters), `ascii-flash` (brief bright flash for network pulse edges), `ascii-center-glow` (steady bright glow for center/node ASCII characters), `chart-dot-pulse` (scale + purple glow pulse for SimplifySection line chart data points), `sparkline-draw` (stroke-dashoffset 50‚Üí0 for sparkline polyline draw in SimplifySection stat cards), `status-pulse` (green box-shadow pulse, currently unused), `reel-scroll-up`/`reel-scroll-down` (vertical scroll for reel cascade background), `reel-glitch` (brief glitch/jitter effect for reel items). TestimonialsSection inlines its own marquee logic with per-row hover-to-pause and per-card highlight/dim behavior.
- TestimonialsSection renders two full-width `MarqueeRow` components (top row scrolls left, bottom row right) outside `<Container>`. Each row duplicates its 6 testimonials for seamless looping. Hover pauses the row via `animationPlayState`, highlights the hovered card (`z-10`, `scale-[1.02]`, `border-brand-500`, `shadow-brand-500/10`), and dims siblings (`opacity-50`). The outer wrapper uses `-my-4` / inner `py-4` to prevent `overflow-hidden` from clipping scale/shadow effects.
- `Testimonial` type includes `avatarColor` (hex string) applied via inline `style` on the avatar circle. 12 testimonials per locale in the dictionary (fictional streamer names/titles, 5 with Turkish names), sliced 0‚Äì6 / 6‚Äì12 for the two rows.
- CTASection uses a "contained card with glow" design: an outer wrapper with `bg-gradient-to-br` and `p-[1.5px]` padding reveals a gradient purple border glow around the inner `bg-[#1F1F23]` card. A blurred `bg-brand-500/15` radial div behind the card adds a subtle ambient glow. Includes a `SectionBadge` (Rocket icon), stagger-animated stats row with responsive dividers, and a "Book a Call" button linking to Calendly.
- `CountUp` component parses stat strings (e.g. `"280%"`, `"2.4M"`, `"3x"`) into prefix/number/suffix, then animates from 0 to the target using Framer Motion's `useInView` (`once: true`), `useMotionValue`, and `useSpring`. Used in ImpactSection, CTASection, and SimplifySection.
- ImpactSection uses a CSS-built analytics dashboard card (dark card with translated "Clip Performance" header, platform icons, 3 mini stat cards with CountUp, bar chart visualization, and overlapping growth badge). The dashboard card has a 3D perspective tilt (`perspective: 1200px` on wrapper, `rotateY(-25deg) rotateX(10deg)` on the card) while the "+47% growth" badge counter-rotates (`rotateY(25deg) rotateX(-10deg)`) to stay flat. A **stacked shadow card** sits behind the dashboard for 3D depth: an `absolute inset-0` div with `bg-white/[0.06]`, `rounded-2xl`, `border border-white/[0.08]`, and the same 3D rotation plus `translate3d(8px, 8px, -20px)` to offset it right/down/back in Z-space. Bar chart bars use white rgba with computed intensity (`rgba(255, 255, 255, intensity)`) instead of brand colors. The three big stats below the heading (10M+, 150+, 280%) are styled in `text-[#9BA8B8]` (steel blue, matching the hero "Grow Your Stream" heading color). Stat emojis are plain (no drop-shadow glow). Five floating emojis are positioned around the dashboard card (üöÄ top-right, üìä top-left, üî• right-middle, ‚≠ê bottom-right, üéÆ left-middle), each with unique 3D counter-rotations, purple glow drop-shadows, and staggered `float` animations (varying durations 2.8s‚Äì3.5s and delays). No `next/image` usage.
- SimplifySection ("How It Works") has a two-column layout: left text column (badge, heading, description, numbered feature list) and right dashboard mockup. The heading uses split keys (`heading` + `headingHighlight` + `headingSuffix`) so that "Growth" / "B√ºy√ºme" renders in Twitch purple (`text-brand-500`). The dashboard uses a 3-layer card wrapper matching ServicesSection/CTASection patterns: ambient glow (`bg-brand-500/8 blur-[60px]`), gradient border (`from-brand-500/30 via-brand-600/15 p-[1px]`), inner `bg-[#1F1F23]` card with continuous `shimmer-sweep` overlay. Contains 3 `StatCard` sub-components in a `grid-cols-3` layout ‚Äî each accepts an `index` prop and uses progressively brighter purple gradient borders (`borderGradients` array with `p-[1px]` wrapper), inner `bg-[#111113]` card, a lucide icon in a `bg-white/5` container (mapped from `stat.icon` string via `ICON_MAP`), a `Sparkline` SVG (56x24px polyline + area fill, drawn via `sparkline-draw` CSS keyframe), `CountUp` value, and green `TrendingUp` change indicator (`text-emerald-400`). Below the stats, a `GrowthChart` sub-component renders an animated SVG line/area chart (`viewBox 0 0 400 160`): 12 data points converted to a smooth Catmull-Rom‚ÜíBezier SVG path, line draws left-to-right via Framer Motion `useSpring` on `stroke-dashoffset` (stiffness: 30, damping: 20), area gradient fades in with 0.5s delay, 4 glowing `motion.circle` dots pop in at peaks after ~2.2s with `chart-dot-pulse` CSS animation, and a `growthBadge` `motion.div` slides up near the final peak at ~2.5s. Dictionary `simplify.dashboardStats` entries include `change` (trend text like "+23%"), `icon` (lucide key: "scissors"/"eye"/"users"), and `simplify.growthBadge` (e.g. "+47% this month"). Sparkline trend data is hardcoded per icon key in `SPARKLINE_DATA`.
- HeroSection uses a centered single-column layout with a static Twitch/Kick logo pattern SVG background (faded via radial gradient). The heading uses `font-heading` class with `headingStart` in muted steel (`text-[#9BA8B8]`) and `headingAccent` in `text-white`, separated by a `<br>`. No typewriter effect, no two-column grid, no NetworkGrid canvas. The `ClipFlowIllustration` component is defined and exported from `HeroSection.tsx` but rendered in ServicesSection (not in HeroSection itself). `ClipFlowIllustration` (`max-w-[600px] h-[400px]`) is a layered, ambient-rich visual. Source icons (Twitch, Kick) on the left connect to a center play button via curved SVG Bezier `<path>` elements with gradient strokes (`dash-flow` animation) and 12 glowing flow dots (3 per path: lead/mid/trail, sizes r=5/3.5/2.5) using `<animateMotion>` with staggered delays. The center play button (96px) has an ambient blur backdrop, two counter-rotating dashed SVG rings with orbital particles (`<animateTransform>`), and a pulsing border ring (`pulse-ring` keyframe). Destination icons (TikTok, Instagram) have styled view count badges with `Eye` icon and `badge-pulse` animation. Platform cards are 72px with gradient backgrounds, brand-colored glow halos (blurred divs), and gentle `float` animation. Ambient effects include a large radial purple glow, SVG `<pattern>` dot grid (0.04 opacity), and 8 floating particles (`particle-float-1`/`particle-float-2` keyframes). All SVG animations use native SMIL (`<animateMotion>`, `<animateTransform>`, `<animate>`) rather than CSS keyframes for path-following and rotation.
- Custom inline SVGs are used for platforms not in lucide-react: Kick icon (green "K" in rounded square) and TikTok icon (standard musical note path with `currentColor` fill).
- WhyChooseUsSection uses animated ASCII/Unicode art instead of lucide-react icons. Each card has a unique design (bullseye, infinity loop, sparkle lattice, node graph) rendered via the `AsciiArt` component with per-character CSS animations. Grid configs in `asciiConfigs.ts` define characters, animation types (`glow`/`flash`/`center`/`none`), and staggered delays. Uses CSS keyframes (not Framer Motion) for the looping per-character animations for performance (~120 animated spans), with `useInView` gating animation start on scroll. Rendered at `font-mono` 11px with `1ch`-wide spans for alignment, plus a subtle `bg-brand-500/8 blur-lg` backdrop.
- ServicesSection renders `ClipFlowIllustration` (imported from `HeroSection.tsx`) above the card grid, wrapped in `FadeInWhenVisible direction="up"`, desktop-only (`hidden lg:block`, `max-w-[600px]`). Below that, a clean 4x2 card grid (`grid-cols-1 sm:grid-cols-2 lg:grid-cols-4`) with 8 service cards. Cards use a **checkerboard dual-accent pattern**: cards are assigned purple (brand) or steel blue (`#9BA8B8`) based on `(row + col) % 2` in the 4-column grid. Purple cards (row 1: positions 1,3; row 2: positions 2,4) use `brand-400`/`brand-500` for icon, label, borders, and glow. Steel blue cards (row 1: positions 2,4; row 2: positions 1,3) use `#9BA8B8` for the same elements. Each card has: icon in a rounded-xl container (gradient bg + glow halo), uppercase label (`tracking-wider`), bold title, and gray description. Dictionary items include `label`, `title`, `description`, and `icon` (string key mapped to lucide icons via `ICON_MAP`). Hover effects: (1) gradient border glow (`p-[1px]`, intensifies from `/20` to `/60`); (2) ambient blur backdrop; (3) shimmer sweep overlay (`via-white/[0.03]`); (4) spring scale (`whileHover={{ scale: 1.02 }}`); (5) icon border brightening. Cards stagger in via `StaggerChildren`.
- Icons come from `lucide-react`. Platform-specific inline SVGs (Kick, TikTok) are defined as local components where needed.
- Dark theme throughout: cards use `bg-[#1F1F23]` with `border-[#2F2F35]`, text uses `text-gray-100`/`text-gray-400` for contrast on dark backgrounds, SVG logo fills use `#9146FF`.
- AboutSection (`#creator`) is a GitHub-inspired personal card for the founder. Uses the 3-layer card pattern (ambient glow, gradient border, inner `bg-[#1F1F23]` card). Displays GitHub avatar from `https://github.com/{githubUsername}.png`, name with surname in muted steel italic Instrument_Serif (`font-script`), green online dot + `@username` handle, bio paragraph, and a GitHub-green (`#238636`) button linking to the profile. Subtle dot-grid pattern inside the card (`opacity-[0.03]`). Avatar enters with Framer Motion scale animation. Dictionary key: `aboutMe` with fields `badge`, `firstName`, `surname`, `githubUsername`, `bio`, `githubButton`. `AboutMeDict` type in `src/types/index.ts`.
- Static images in `/public/`: `logo.png` (flask icon used as site logo in Navbar + Footer), `calcom-logo.avif` (Cal.com logo used in CTA buttons). Favicon at `src/app/favicon.ico` is derived from `logo.png`. All other visuals are CSS/SVG-based.
